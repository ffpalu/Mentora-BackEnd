# ========================================
# MENTORA - APPLICATION.PROPERTIES
# ========================================

# Server Configuration
server.port=8080
#server.servlet.context-path=/api

# Application Info
spring.application.name=mentora-backend

# ========================================
# DATABASE CONFIGURATION
# ========================================

# H2 Console (per vedere i dati nel browser)
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

spring.datasource.url=jdbc:h2:mem:mentora
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password

# Alternativa MySQL (decommenta se preferisci MySQL)
#spring.datasource.url=jdbc:mysql://192.168.11.24:3306/mentora
#spring.datasource.username=mentora_user
#spring.datasource.password=mentora_psw
#spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ========================================
# JPA/HIBERNATE CONFIGURATION
# ========================================

# Hibernate DDL (crea tabelle automaticamente)
spring.jpa.hibernate.ddl-auto=create-drop

# Mostra le query SQL nel log (utile per debug)
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Dialect per il database
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect

# Per MySQL usa:
# spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect

# ========================================
# SECURITY & JWT CONFIGURATION
# ========================================

# JWT Secret Key (cambia in produzione!)
jwt.secret=df74b0995343af86922e5512f6e911b1c54a37cb2274a4bff46e36b72b926d7e
jwt.expiration=86400000
# 86400000ms = 24 ore

# ========================================
# LOGGING CONFIGURATION
# ========================================

# Log level generale
logging.level.root=INFO

# Log dettagliato per la tua applicazione
logging.level.com.mentora=DEBUG

# Log per vedere le query Hibernate
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Log per Spring Security (utile per debug autenticazione)
logging.level.org.springframework.security=DEBUG

# ========================================
# JSON/JACKSON CONFIGURATION
# ========================================

# Formato date JSON (ISO-8601)
spring.jackson.serialization.write-dates-as-timestamps=false

# Non fallire se ci sono proprietà sconosciute nel JSON
spring.jackson.deserialization.fail-on-unknown-properties=false

# ========================================
# MAIL CONFIGURATION (per notifiche)
# ========================================

# Configurazione mail per sviluppo (usa MailHog o simili)
spring.mail.host=localhost
spring.mail.port=1025
spring.mail.username=
spring.mail.password=
spring.mail.properties.mail.smtp.auth=false
spring.mail.properties.mail.smtp.starttls.enable=false

# Per Gmail in produzione:
# spring.mail.host=smtp.gmail.com
# spring.mail.port=587
# spring.mail.username=your-email@gmail.com
# spring.mail.password=your-app-password
# spring.mail.properties.mail.smtp.auth=true
# spring.mail.properties.mail.smtp.starttls.enable=true

# ========================================
# FILE UPLOAD CONFIGURATION
# ========================================

# Dimensione massima file upload
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=50MB

# ========================================
# ACTUATOR (monitoring)
# ========================================

# Endpoints esposti
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when-authorized

# ========================================
# CORS CONFIGURATION
# ========================================

# Permettere richieste dal frontend React
cors.allowed-origins=http://localhost:3000,http://localhost:5173
cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
cors.allowed-headers=*
cors.allow-credentials=true

# ========================================
# VALIDATION MESSAGES (opzionale)
# ========================================

# Personalizza messaggi di errore di validazione
spring.messages.basename=messages
spring.messages.encoding=UTF-8

# ========================================
# SPRING DOC / SWAGGER
# ========================================

# Path per la documentazione API
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html

# ========================================
# PROFILI SPECIFICI
# ========================================

# Profilo attivo (dev, test, prod)
spring.profiles.active=dev

# ========================================
# CONFIGURAZIONE SPECIFICA DEV
# ========================================

# Proprietà specifiche per sviluppo
mentora.app.debug=true
mentora.app.mock-notifications=true

# ========================================
# TIMEZONE
# ========================================

# Timezone dell'applicazione
spring.jackson.time-zone=Europe/Rome